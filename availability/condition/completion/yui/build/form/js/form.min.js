M.availability_completion=M.availability_completion||{},M.availability_completion.form=Y.Object(M.core_availability.plugin),M.availability_completion.form.initInner=function(cms){this.cms=cms},M.availability_completion.form.getNode=function(json){for(var html='<span class="col-form-label pr-3"> '+M.util.get_string("title","availability_completion")+'</span> <span class="availability-group form-group"><label><span class="accesshide">'+M.util.get_string("label_cm","availability_completion")+' </span><select class="custom-select" name="cm" title="'+M.util.get_string("label_cm","availability_completion")+'"><option value="0">'+M.util.get_string("choosedots","moodle")+"</option>",i=0;i<this.cms.length;i++){var cm=this.cms[i];html+='<option value="'+cm.id+'">'+cm.name+"</option>"}html+='</select></label> <label><span class="accesshide">'+M.util.get_string("label_completion","availability_completion")+' </span><select class="custom-select" name="e" title="'+M.util.get_string("label_completion","availability_completion")+'"><option value="1">'+M.util.get_string("option_complete","availability_completion")+'</option><option value="0">'+M.util.get_string("option_incomplete","availability_completion")+'</option><option value="2">'+M.util.get_string("option_pass","availability_completion")+'</option><option value="3">'+M.util.get_string("option_fail","availability_completion")+"</option></select></label></span>";var node=Y.Node.create('<span class="form-inline">'+html+"</span>");(void 0!==json.cm&&node.one("select[name=cm] > option[value="+json.cm+"]")&&node.one("select[name=cm]").set("value",""+json.cm),void 0!==json.e&&node.one("select[name=e]").set("value",""+json.e),M.availability_completion.form.addedEvents)||(M.availability_completion.form.addedEvents=!0,Y.one(".availability-field").delegate("change",(function(){M.core_availability.form.update()}),".availability_completion select"));return node},M.availability_completion.form.fillValue=function(value,node){value.cm=parseInt(node.one("select[name=cm]").get("value"),10),value.e=parseInt(node.one("select[name=e]").get("value"),10)},M.availability_completion.form.fillErrors=function(errors,node){var cmid=parseInt(node.one("select[name=cm]").get("value"),10);0===cmid&&errors.push("availability_completion:error_selectcmid");var e=parseInt(node.one("select[name=e]").get("value"),10);2!==e&&3!==e||this.cms.forEach((function(cm){cm.id===cmid&&null===cm.completiongradeitemnumber&&errors.push("availability_completion:error_selectcmidpassfail")}))};

//# sourceMappingURL=form.min.js.map