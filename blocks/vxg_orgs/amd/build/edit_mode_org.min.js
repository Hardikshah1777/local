define("block_vxg_orgs/edit_mode_org",["jquery"],(function($){return{init:function(){$("#orgs_tree .tree_item").click((function(){$('#orgs_tree [aria-selected="true"]').attr("aria-selected","false")})),$("#vxg_search_orgs").parent().on("click","[role=option]",(function(){var orgid=$(this).attr("data-value");$("#orgs_tree [aria-selected=true]").attr("aria-selected","false");var treeitem=$("#orgs_tree [data-orgid="+orgid+"]");treeitem.attr("aria-selected","true"),treeitem.parents().attr("aria-hidden","false"),treeitem.parents().siblings('[aria-expanded="false"]').attr("aria-expanded","true")}));var orgadminNewa=$("#vxg_org_addadmin_btn"),orgadminNewUrlStart=orgadminNewa.attr("href"),orgadminview=$("#vxg_org_viewadmin_btn"),orgadmiviewUrlStart=orgadminview.attr("href"),org=$("#orgs_tree").find(".tree_item"),adminUrl=orgadminNewUrlStart+"&orgid=0";orgadminNewa.attr("href",adminUrl);var adminvUrl=orgadmiviewUrlStart+"&orgid=0";orgadminview.attr("href",adminvUrl);org.click((function(){makeAddOrgadminUrl($(this).attr("data-orgid"),orgadminNewa,orgadminNewUrlStart)}));var orgvId=0;org.click((function(){makeAddOrgadminUrl(orgvId=$(this).attr("data-orgid"),orgadminview,orgadmiviewUrlStart)}));var orgNewa=$("#vxg_org_new_btn"),orgNewUrlStart=orgNewa.attr("href"),newUrl=orgNewUrlStart+"&orgid=0";orgNewa.attr("href",newUrl),org.click((function(){makeAddOrgUrl($(this).attr("data-orgid"),orgNewa,orgNewUrlStart)}));var orgedita=$("#vxg_org_edit_btn"),orgEditUrlStart=orgedita.attr("href");org.click((function(){makeEditOrgUrl($(this).attr("data-orgid"),orgedita,orgEditUrlStart)}));var orgdela=$("#vxg_org_del_btn"),orgDelUrlStart=orgdela.attr("href");org.click((function(){makeDeleteOrgUrl($(this).attr("data-orgid"),orgdela,orgDelUrlStart)})),$(".vxg-search-org-btn").click((function(){$("#vxg_search_orgs").toggleClass("vxg_search_orgs"),$("#vxg_search_orgs").parent().on("click","[role=option]",(function(e){var orgId=$(e.currentTarget).closest("[role=option]").attr("data-value");makeAddOrgadminUrl(orgId,orgadminNewa,orgadminNewUrlStart),makeAddOrgadminUrl(orgvId,orgadminview,orgadmiviewUrlStart),makeAddOrgUrl(orgId,orgNewa,orgNewUrlStart),makeDeleteOrgUrl(orgId,orgdela,orgDelUrlStart),makeEditOrgUrl(orgId,orgedita,orgEditUrlStart)}))}))}};function makeDeleteOrgUrl(orgId,orgdela,orgDelUrlStart){if(0!=orgId){var delUrl=orgDelUrlStart+"&orgid="+orgId;orgdela.attr("href",delUrl),orgdela.children().removeAttr("disabled"),orgdela.children().css("pointer-events","initial")}else orgdela.children().attr("disabled",!0),orgdela.children().css("pointer-events","none")}function makeEditOrgUrl(orgId,orgedita,orgEditUrlStart){if(0!=orgId){var editUrl=orgEditUrlStart+"&orgid="+orgId;orgedita.attr("href",editUrl),orgedita.children().removeAttr("disabled"),orgedita.children().css("pointer-events","initial")}else orgedita.children().attr("disabled",!0),orgedita.children().css("pointer-events","none")}function makeAddOrgUrl(orgId,orgNewa,orgNewUrlStart){var newUrl=orgNewUrlStart+"&orgid="+orgId;orgNewa.attr("href",newUrl),orgNewa.children().removeAttr("disabled"),orgNewa.children().css("pointer-events","initial")}function makeAddOrgadminUrl(orgId,orgadminNewa,orgadminNewUrlStart){if(0!=orgId){var adminUrl=orgadminNewUrlStart+"&orgid="+orgId;orgadminNewa.attr("href",adminUrl),orgadminNewa.children().removeAttr("disabled"),orgadminNewa.children().css("pointer-events","initial")}else orgadminNewa.children().attr("disabled",!0),orgadminNewa.children().css("pointer-events","none")}}));

//# sourceMappingURL=edit_mode_org.min.js.map