  {"version":3,"file":"modal.min.js","sources":["../src/modal.js"],"sourcesContent":["define([\n        'jquery',\n        'core/custom_interaction_events',\n        'core/modal',\n        'core/modal_save_cancel',\n        'core/modal_events',\n        'core/key_codes'\n    ],\n    function ($,\n              CustomEvents,\n              VanillaModal,\n              VanillaModalSaveCancel,\n              ModalEvents,\n              KeyCodes\n    ) {\n\n        var SELECTORS = {\n            SAVE_BUTTON: '[data-action=\"save\"]',\n            CANCEL_BUTTON: '[data-action=\"cancel\"]',\n            HIDE: '[data-action=\"hide\"]',\n        };\n\n        var Modal = function (root) {\n            VanillaModal.call(this, root);\n        };\n\n        Modal.prototype = Object.create(VanillaModal.prototype);\n        Modal.prototype.constructor = Modal;\n\n        Modal.prototype.registerEventListeners = function () {\n            this.getRoot().on('keydown', function (e) {\n                if (!this.isVisible()) {\n                    return;\n                }\n\n                if (e.keyCode == KeyCodes.tab) {\n                    this.handleTabLock(e);\n                } else if (e.keyCode == KeyCodes.escape) {\n                    // This.hide();\n                }\n            }.bind(this));\n\n            CustomEvents.define(this.getModal(), [CustomEvents.events.activate]);\n            this.getModal().on(CustomEvents.events.activate, SELECTORS.HIDE, function (e, data) {\n                this.hide();\n                data.originalEvent.preventDefault();\n            }.bind(this));\n        };\n\n        class ModalSaveCancel extends VanillaModalSaveCancel {\n            registerEventListeners () {\n                Modal.prototype.registerEventListeners.call(this);\n\n                this.getModal().on(CustomEvents.events.activate, SELECTORS.SAVE_BUTTON, function (e, data) {\n                    var saveEvent = $.Event(ModalEvents.save);\n                    this.getRoot().trigger(saveEvent, this);\n\n                    if (!saveEvent.isDefaultPrevented()) {\n                        this.hide();\n                        data.originalEvent.preventDefault();\n                    }\n                }.bind(this));\n\n                this.getModal().on(CustomEvents.events.activate, SELECTORS.CANCEL_BUTTON, function (e, data) {\n                    var cancelEvent = $.Event(ModalEvents.cancel);\n                    this.getRoot().trigger(cancelEvent, this);\n\n                    if (!cancelEvent.isDefaultPrevented()) {\n                        this.hide();\n                        data.originalEvent.preventDefault();\n                    }\n                }.bind(this));\n            }\n        }\n\n        return {\n            Modal: Modal,\n            ModalSaveCancel: ModalSaveCancel\n        };\n    });\n"],"names":["define","$","CustomEvents","VanillaModal","VanillaModalSaveCancel","ModalEvents","KeyCodes","SELECTORS","Modal","root","call","this","prototype","Object","create","constructor","registerEventListeners","getRoot","on","e","isVisible","keyCode","tab","handleTabLock","escape","bind","getModal","events","activate","data","hide","originalEvent","preventDefault","ModalSaveCancel","saveEvent","Event","save","trigger","isDefaultPrevented","cancelEvent","cancel"],"mappings":"AAAAA,+BAAO,CACC,SACA,iCACA,aACA,yBACA,oBACA,mBAEJ,SAAUC,EACAC,aACAC,aACAC,uBACAC,YACAC,cAGFC,sBACa,uBADbA,wBAEe,yBAFfA,eAGM,uBAGNC,MAAQ,SAAUC,MAClBN,aAAaO,KAAKC,KAAMF,QAG5BD,MAAMI,UAAYC,OAAOC,OAAOX,aAAaS,YAC7BG,YAAcP,MAE9BA,MAAMI,UAAUI,uBAAyB,gBAChCC,UAAUC,GAAG,UAAW,SAAUC,GAC9BR,KAAKS,cAIND,EAAEE,SAAWf,SAASgB,SACjBC,cAAcJ,IACZA,EAAEE,QAAWf,SAASkB,UAGnCC,KAAKd,OAEPT,aAAaF,OAAOW,KAAKe,WAAY,CAACxB,aAAayB,OAAOC,gBACrDF,WAAWR,GAAGhB,aAAayB,OAAOC,SAAUrB,eAAgB,SAAUY,EAAGU,WACrEC,OACLD,KAAKE,cAAcC,kBACrBP,KAAKd,cA6BJ,CACHH,MAAOA,MACPyB,8BA5B0B7B,uBAC1BY,yBACIR,MAAMI,UAAUI,uBAAuBN,KAAKC,WAEvCe,WAAWR,GAAGhB,aAAayB,OAAOC,SAAUrB,sBAAuB,SAAUY,EAAGU,UAC7EK,UAAYjC,EAAEkC,MAAM9B,YAAY+B,WAC/BnB,UAAUoB,QAAQH,UAAWvB,MAE7BuB,UAAUI,4BACNR,OACLD,KAAKE,cAAcC,mBAEzBP,KAAKd,YAEFe,WAAWR,GAAGhB,aAAayB,OAAOC,SAAUrB,wBAAyB,SAAUY,EAAGU,UAC/EU,YAActC,EAAEkC,MAAM9B,YAAYmC,aACjCvB,UAAUoB,QAAQE,YAAa5B,MAE/B4B,YAAYD,4BACRR,OACLD,KAAKE,cAAcC,mBAEzBP,KAAKd"}