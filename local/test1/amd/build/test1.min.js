define("local_test1/test1",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;function showToast(message){let isSuccess=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const title=isSuccess?"Send":"Not Send",icon=isSuccess?"success":"error";Swal.fire({title:"Mail "+title,text:message,icon:icon,confirmButtonText:"OK",showConfirmButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",iconColor:"#d33",timer:3e3,timerProgressBar:!0,allowOutsideClick:!0,allowEscapeKey:!1,allowEnterKey:!0})}_exports.init=()=>{window.console.log("Test 1 js")},document.querySelectorAll(".maillink").forEach((link=>{link.addEventListener("click",(function(event){event.preventDefault();const userid=this.getAttribute("data-uid");fetch(M.cfg.wwwroot+"/local/test1/testmail.php",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({userid:userid})}).then((response=>response.json())).then((data=>{data.success?(showToast("Email sent successfully to "+data.username,!0),window.console.log("Email sent successfully to "+data.username)):showToast("Failed to send mail",!1)})).catch((error=>{window.console.log(error),showToast("An error occurred while sending the email.",!1)}))}))})),document.querySelectorAll(".downloadpdf").forEach((link=>{link.addEventListener("click",(function(event){event.preventDefault();const user=JSON.parse(this.getAttribute("data-user")),tr=this.closest("tr");if(!tr)return void window.error("Row not found");const rowData=Array.from(tr.children).map((td=>td.textContent.trim()));document.createElement("table").appendChild(tr.cloneNode(!0));const{jsPDF:jsPDF}=window.jspdf,doc=new jsPDF;doc.setFontSize(16),doc.text("User Information.",70,15),doc.autoTable({head:[["","Name","Email","City","Date"]],body:[rowData],startY:20});let filename=user.firstname+" "+user.lastname+".pdf";doc.save(filename)}))})),document.querySelectorAll(".downloadcsv").forEach((link=>{link.addEventListener("click",(function(event){event.preventDefault();const user=JSON.parse(this.getAttribute("data-user")),tr=this.closest("tr");if(!tr)return void window.error("Row not found");const rowData=Array.from(tr.children).map((td=>td.textContent.trim())),csvContent=[["","Name","Email","City","Date"].join(","),rowData.join(",")].join("\\n"),blob=new Blob([csvContent],{type:"text/csv;charset=utf-8;"}),url=URL.createObjectURL(blob),a=document.createElement("a");let filename=user.firstname+" "+user.lastname+".csv";a.setAttribute("href",url),a.setAttribute("download",filename),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(url)}))}))}));

//# sourceMappingURL=test1.min.js.map