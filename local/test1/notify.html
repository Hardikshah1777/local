<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dummy Desktop Notification</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body class="bg-body-secondary">
    <div class="container">
        <div class="mt-5">
            <h4>Click to Send Notification</h4>
            <button id="notifyButton" class="btn btn-primary">Send Notification</button>
        </div>
    </div>

    <script>
        // Check if the browser supports notifications
        if ("Notification" in window) {
            // Ask the user for permission to send notifications
            if (Notification.permission !== "granted") {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") {
                        console.log("Notification permission granted");
                    }
                });
            }

            // Add an event listener for the button click
            document.getElementById("notifyButton").addEventListener("click", function() {
                if (Notification.permission === "granted") {
                    // Send a dummy desktop notification
                    // setInterval(() => {
                        const notification = new Notification("Hello, this is a dummy notification!", {
                            body: "This is the body of the dummy notification.\n" +
                                "Lorem Ipsum is simply dummy text of the printing and typesetting industry. " +
                                "Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, " +
                                "when an unknown printer took a galley of type and scrambled it to make a type specimen book. ",
                            icon: "http://localhost/moodle4/local/test1/pix/logo2.png", // Optional icon
                            // tag: "my-notification-id",
                            // requireInteraction: false,
                            // vibrate: [300, 100, 300],
                            // timestamp: Date.now(),
                            // actions: [
                            //     { action: "view", title: "View", icon: "http://localhost/moodle4/local/test1/pix/logo.png" },
                            //     { action: "dismiss", title: "Dismiss", icon: "http://localhost/moodle4/local/test1/pix/logo2.png" }
                            // ],
                            // renotify: false,
                            // silent: true,
                            // dir: "auto",
                            // lang: "en-US",
                        });
                    // }, 60000); // 60000 milliseconds = 60 seconds

                    // Optional: Handle notification click event
                    // notification.onclick = function() {
                        // window.focus();
                        //alert("Notification clicked!");
                    // };
                } else {
                    alert("Notification permission not granted.");
                }
            });
        } else {
            alert("Your browser does not support desktop notifications.");
        }
    </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
<?php

?>