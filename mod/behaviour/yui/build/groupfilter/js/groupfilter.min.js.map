{"version":3,"file":"groupfilter.min.js","sources":["../../../src/groupfilter/js/groupfilter.js"],"sourcesContent":["/* global M */\n// eslint-disable-next-line camelcase\nM.mod_behaviour = M.mod_behaviour || {};\nM.mod_behaviour.groupfilter = {\n    groupmappings: null,\n\n    init: function(opts) {\n        \"use strict\";\n\n        this.groupmappings = opts.groupmappings;\n        Y.one('#id_group').after('change', this.update_user_list, this);\n    },\n\n    /**\n     * Update the user list with those found in the selected group.\n     */\n    update_user_list: function() { // eslint-disable-line camelcase\n        \"use strict\";\n        var groupid, userlist, users, userid, opt;\n\n        // Get the list of users in the current group.\n        groupid = Y.one('#id_group').get('value');\n        users = this.groupmappings[groupid];\n\n        // Remove the options from the users select.\n        userlist = Y.one('#id_users');\n        userlist.get('options').remove();\n\n        // Repopulate the users select with those users in the selected group (if any).\n        if (users !== undefined) {\n            for (userid in users) {\n                if (users.hasOwnProperty(userid)) {\n                    opt = Y.Node.create('<option></option>');\n                    opt.set('value', userid);\n                    opt.set('text', users[userid]);\n                    userlist.appendChild(opt);\n                }\n            }\n        }\n    }\n};\n"],"names":["M","mod_behaviour","groupfilter","groupmappings","init","opts","Y","one","after","this","update_user_list","groupid","userlist","users","userid","opt","get","remove","undefined","hasOwnProperty","Node","create","set","appendChild"],"mappings":"AAEAA,EAAEC,cAAgBD,EAAEC,eAAiB,GACrCD,EAAEC,cAAcC,YAAc,CAC1BC,cAAe,KAEfC,KAAM,SAASC,WAGNF,cAAgBE,KAAKF,cAC1BG,EAAEC,IAAI,aAAaC,MAAM,SAAUC,KAAKC,iBAAkBD,OAM9DC,iBAAkB,eAEVC,QAASC,SAAUC,MAAOC,OAAQC,OAGtCJ,QAAUL,EAAEC,IAAI,aAAaS,IAAI,SACjCH,MAAQJ,KAAKN,cAAcQ,UAG3BC,SAAWN,EAAEC,IAAI,cACRS,IAAI,WAAWC,cAGVC,IAAVL,UACKC,UAAUD,MACPA,MAAMM,eAAeL,WACrBC,IAAMT,EAAEc,KAAKC,OAAO,sBAChBC,IAAI,QAASR,QACjBC,IAAIO,IAAI,OAAQT,MAAMC,SACtBF,SAASW,YAAYR"}