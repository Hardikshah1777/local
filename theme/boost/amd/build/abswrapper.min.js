define("theme_boost/abswrapper",["theme_boost/bswrapper","theme_boost/ajax-bootstrap-select"],($=>($.fn.ajaxSelectPicker.defaults=$.extend($.fn.ajaxSelectPicker.defaults,{preserveSelected:!0,preserveSelectedPosition:"before",emptyRequest:!0,clearOnEmpty:!1,ignoredKeys:{...$.fn.ajaxSelectPicker.defaults.ignoredKeys,13:"enter"},ajax:{type:"POST",dataType:"json",processData:!1,contentType:"application/json",async:!0,loginrequired:!0,url:function(){let url=`${M.cfg.wwwroot}/lib/ajax/`;const{loginrequired:loginrequired}=this.options,requests=this.options.data,methodInfo=[],ajaxRequestData=[];if(url+=""+(loginrequired?`service.php?sesskey=${M.cfg.sesskey}&`:"service-nologin.php?"),!requests.length)return url;requests.forEach(((request,index)=>{ajaxRequestData.push({index:index,...request}),methodInfo.push(request.methodname)}));const requestInfo=methodInfo.length<=5?methodInfo.sort().join():methodInfo.length+"-method-calls";return this.options.context=requests,url+=`info=${requestInfo}`,this.options.data=JSON.stringify(ajaxRequestData),url}},log:M.cfg.developerdebug,langCode:document.documentElement.lang,noajax:!1}),AjaxBootstrapSelectList.prototype.cacheGet=function(key,defaultValue){key=this.cacheKey(key);var value=this.cache[key]||defaultValue;if(!value&&this.plugin.options.noajax){const selectedValues=this.selected.map((opt=>opt.value));return this.cache["@@empty@@"].forEach((opt=>{opt.preserved=opt.selected=selectedValues.includes(opt.value)})),this.cache["@@empty@@"].filter((option=>option.text.toLowerCase().indexOf(key.toLowerCase())>-1))}return this.plugin.log(this.LOG_DEBUG,"Retrieving cache:",key,value),value},AjaxBootstrapSelectList.prototype.cacheSet=function(key,value){key=this.cacheKey(key),this.cache[key]=value,this.plugin.lastcachekey=key,this.plugin.log(this.LOG_DEBUG,"Saving to cache:",key,value)},AjaxBootstrapSelectList.prototype.cacheKey=function(key){return!this.plugin.options.noajax&&this.plugin.options.cacheKey&&$.isFunction(this.plugin.options.cacheKey)?this.plugin.options.cacheKey.call(this.plugin,key):key},$('[data-absselect="1"]').selectpicker().ajaxSelectPicker(),$('[data-bsselect="1"]').selectpicker(),$)));

//# sourceMappingURL=abswrapper.min.js.map