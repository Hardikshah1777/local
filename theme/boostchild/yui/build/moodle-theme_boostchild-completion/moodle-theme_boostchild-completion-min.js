YUI.add("moodle-theme_boostchild-completion",function(p,e){M.theme_boostchild=M.theme_boostchild||{completion:{}},M.theme_boostchild.completion.init=function(){var u,d,t,e,o=p.one("#completion_dynamic_change");if(0<o.get("value"))return o.set("value",0),void window.location.reload();u=function(e,t,n){var o,a,i,l,c;p.one("#completion_dynamic_change").set("value",1),"OK"!=t.responseText?alert("An error occurred when attempting to save your tick mark.\n\n("+t.responseText+".)"):(o=n.state.get("value"),a=n.modulename.get("value"),c=n.image.get("parentNode"),1==o?(i=M.util.get_string("completion-alt-manual-y","completion",a),l="i/completion-manual-y",n.state.set("value",0)):(i=M.util.get_string("completion-alt-manual-n","completion",a),l="i/completion-manual-n",n.state.set("value",1)),require(["core/templates","core/notification"],function(o,e){o.renderPix(l,"core",i).then(function(e){var t='$(document.getElementById("'+c.get("id")+'")).focus();';o.replaceNode(n.image.getDOMNode(),e,t)})["catch"](e.exception)})),n.ajax.remove()},d=function(e,t,o){alert("An error occurred when attempting to save your tick mark.\n\n("+t.responseText+".)"),o.ajax.remove()},t=function(e){var t,o,n,a,i,l,c,m,r,s;for(e.preventDefault(),t=e.target,n=o=0,l=i=a=null,c=p.Node.getDOMNode(t).getElementsByTagName("input"),m=0;m<c.length;m++)switch(c[m].name){case"id":o=c[m].value;break;case"completionstate":n=c[m].value,a=p.one(c[m]);break;case"modulename":l=p.one(c[m])}i=t.one("button .icon"),r=p.Node.create('<div class="ajaxworking" />'),t.append(r),s={method:"POST",data:"id="+o+"&completionstate="+n+"&fromajax=1&sesskey="+M.cfg.sesskey,on:{success:u,failure:d},arguments:{state:a,image:i,ajax:r,modulename:l}},p.use("io-base",function(e){e.io(M.cfg.wwwroot+"/theme/boostchild/ajax/togglecompletion.php",s)})},p.all("form.togglecompletion").each(function(e){e.hasClass("preventjs")||p.on("submit",t,e)}),!(e=p.one("#completionprogressid"))||p.one("form.togglecompletion")||p.one(".autocompletion")||e.setStyle("display","none")}},"@VERSION@",{requires:["base"]});